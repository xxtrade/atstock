{% extends '@!EasyAdmin/crud/new.html.twig' %}
{% block head_javascript %}
    <script src="https://unpkg.com/html5-qrcode@2.0.9/dist/html5-qrcode.min.js"></script>
{% endblock head_javascript %}

{% block main %}

    <div id="qr-reader"></div>

    {% block new_form %}
        {{ form(new_form) }}
    {% endblock new_form %}

    <script>
        function onScanSuccess(decodedText, decodedResult) {
            document.getElementById('Item_SKU').value = decodedText;
        }
        var html5QrcodeScanner = new Html5QrcodeScanner(
            "qr-reader", { fps: 10, qrbox: 250 });
        html5QrcodeScanner.render(onScanSuccess);
    </script>

{% endblock %}
